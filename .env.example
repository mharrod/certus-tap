# ============================================================================
# CERTUS TAP ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and adjust values as needed

# ============================================================================
# SHARED INFRASTRUCTURE
# ============================================================================

# OpenSearch Configuration
OPENSEARCH_HOST=http://opensearch:9200
OPENSEARCH_INDEX=ask_certus
OPENSEARCH_HTTP_AUTH_USER=admin
OPENSEARCH_HTTP_AUTH_PASSWORD=admin

# AWS / LocalStack Configuration
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test
S3_ENDPOINT_URL=http://localstack:4566
AWS_REGION=us-east-1
RAW_ACTIVE_PREFIX=active/
RAW_QUARANTINE_PREFIX=quarantine/
GOLDEN_SCANS_PREFIX=scans/

# LLM / Ollama Configuration
LLM_MODEL=llama3.1:8b
LLM_URL=http://host.docker.internal:11434


# Neo4j Configuration
NEO4J_URI=neo4j://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=password
NEO4J_ENABLED=true

# MLflow Configuration
MLFLOW_TRACKING_URI=http://mlflow:5001

# Datalake Defaults
DATALAKE_RAW_BUCKET=raw
DATALAKE_GOLDEN_BUCKET=golden
DATALAKE_DEFAULT_FOLDERS=broker,support,marketing,video,other
EVALUATION_BUCKET=evaluation-results
DATALAKE_SAMPLE_FOLDER=samples
DEFAULT_WORKSPACE_ID=security-streaming-demo


# Logging Configuration
LOG_LEVEL=INFO
LOG_JSON_OUTPUT=true
SEND_LOGS_TO_OPENSEARCH=true

# Integrity Middleware Configuration

# OpenSearch Logging
OPENSEARCH_LOG_HOST=opensearch
OPENSEARCH_LOG_PORT=9200
OPENSEARCH_LOG_USERNAME=
OPENSEARCH_LOG_PASSWORD=

# SaaS ingestion wiring for the data prep service
SAAS_BACKEND_URL=http://ask-certus-backend:8000
SAAS_API_KEY=

#ANONYMIZER_ENABLED=false

# ============================================================================
# CERTUS TRUST SERVICE
# ============================================================================

# Service Configuration
CERTUS_TRUST_HOST=0.0.0.0
CERTUS_TRUST_PORT=8057
CERTUS_TRUST_LOG_LEVEL=INFO
CERTUS_TRUST_ENVIRONMENT=development

# Sigstore Endpoints (Docker Compose references)
CERTUS_TRUST_FULCIO_ADDR=http://fulcio:5555
CERTUS_TRUST_REKOR_ADDR=http://rekor:3000
CERTUS_TRUST_TUF_ADDR=http://tuf:8001
CERTUS_TRUST_KEYCLOAK_ADDR=http://keycloak:8080

# OIDC Configuration
CERTUS_TRUST_OIDC_ISSUER=http://keycloak:8080/realms/master
CERTUS_TRUST_OIDC_CLIENT_ID=certus

# Key Management (Optional - for local key-based signing)
# CERTUS_TRUST_COSIGN_KEY_PATH=/path/to/cosign.key
# CERTUS_TRUST_COSIGN_PASSWORD=your_password

# Feature Flags
CERTUS_TRUST_ENABLE_KEYLESS=true
CERTUS_TRUST_ENABLE_TRANSPARENCY=true

# Limits
CERTUS_TRUST_MAX_ARTIFACT_SIZE=1000000000
INTEGRITY_SHADOW_MODE=false
INTEGRITY_WHITELIST_IPS=127.0.0.1
